!function(){"use strict";function t(t,n){return{x:t||0,y:n||0}}const n=(t,n)=>(t.x=n.x,t.y=n.y,t),e=(t,n,e)=>(t.x=n,t.y=e,t),o=(t,n,e)=>(t.x=n.x+e.x,t.y=n.y+e.y,t),s=(t,n,e)=>(t.x=n.x-e.x,t.y=n.y-e.y,t),c=(t,n)=>t.x*n.x+t.y*n.y,i=(t,n,e)=>(t.x=n.x*e,t.y=n.y*e,t),r=(t,n)=>{const e=t.x-n.x,o=t.y-n.y;return Math.sqrt(e*e+o*o)},a=t=>{const n=t.x,e=t.y;return Math.sqrt(n*n+e*e)},l=(t,n)=>{const e=n.x,o=n.y;let s=e*e+o*o;return s>0&&(s=1/Math.sqrt(s),t.x=n.x*s,t.y=n.y*s),t},h=(t,...n)=>{for(let e=0;e<n.length;e++){const s=n[e];o(s,s,t)}},u=(t,n)=>{t.t.x+=t.o.x*n*n*.001,t.t.y+=t.o.y*n*n*.001,e(t.o,0,0)},p={x:0,y:0},f={x:0,y:0},w={x:0,y:0},d={x:0,y:0},g=(t,n,c,i,r,a,l,h)=>{const u=((t,n)=>{const e=t.x-n.x,o=t.y-n.y;return e*e+o*o})(t.t,i.t),g=n+r;s(p,t.t,t.i),s(f,i.t,i.i),s(w,t.t,i.t);const M=Math.sqrt(u);let v=(M-g)/M;0===M&&(v=1);const y=c>0?c:1,x=a>0?a:1,b=y+x;if(d.x=w.x*v*(x/b),d.y=w.y*v*(x/b),c>0&&s(t.t,t.t,d),d.x=w.x*v*(y/b),d.y=w.y*v*(y/b),a>0&&o(i.t,i.t,d),!l)return;const m=(h=h||1)*(w.x*p.x+w.y*p.y)/(u||1),k=h*(w.x*f.x+w.y*f.y)/(u||1);p.x+=(k*w.x-m*w.x)/(y||1),f.x+=(m*w.x-k*w.x)/(x||1),p.y+=(k*w.y-m*w.y)/(y||1),f.y+=(m*w.y-k*w.y)/(x||1),c>0&&e(t.i,t.t.x-p.x,t.t.y-p.y),a>0&&e(i.i,i.t.x-f.x,i.t.y-f.y)},M=t(),v=t(),y=t(),x=t();function b(e,a,h,u,p,f,w,d,b){s(v,f.t,u.t),l(M,v),s(y,e.t,u.t);const m=c(v,y),k=c(v,v),E=Math.sqrt(k);if(m<0||m>k)return;const A=m/k,P=1-A;i(x,M,A*E),o(x,x,u.t);if(r(x,e.t)>a)return;const T=P*h,j=A*h,D={t:t(),i:t()},F={t:t(),i:t()};i(D.t,M,A*E),s(D.t,e.t,D.t),i(D.i,M,A*E),s(D.i,e.i,D.i),i(F.t,M,P*E),o(F.t,e.t,F.t),i(F.i,M,P*E),o(F.i,e.i,F.i);const S={t:t(),i:t()},C={t:t(),i:t()};n(S.t,D.t),n(S.i,D.i),n(C.t,F.t),n(C.i,F.i);g(D,a,T,u,0,p,d,b),g(F,a,j,f,0,w,d,b);const L={t:t(),i:t()},O={t:t(),i:t()};s(L.t,D.t,S.t),s(O.t,F.t,C.t),i(L.t,L.t,P),i(O.t,O.t,A),o(e.t,e.t,L.t),o(e.t,e.t,O.t),d&&(s(L.i,D.i,S.i),s(O.i,F.i,C.i),i(L.i,L.i,P),i(O.i,O.i,A),o(e.i,e.i,L.i),o(e.i,e.i,O.i))}const m=t(),k=t(),E=t(),A=t(),P=t(),T=t(),j=t(),D=t(),F=t(),S=t(),C=t(),L=t(),O=t(),W=t(),$=t=>{const n=2*t.t.x-t.i.x,o=2*t.t.y-t.i.y;e(t.i,t.t.x,t.t.y),e(t.t,n,o)},H=t(),I=t();function N(t,n,e,o,c){s(H,n,t),s(I,o,e);const i=(-H.y*(t.x-e.x)+H.x*(t.y-e.y))/(-I.x*H.y+H.x*I.y),r=(I.x*(t.y-e.y)-I.y*(t.x-e.x))/(-I.x*H.y+H.x*I.y);return i>=0&&i<=1&&r>=0&&r<=1&&(c.x=t.x+r*H.x,c.y=t.y+r*H.y,!0)}const R=t(),G=t(),z=t(),U=t(),Y=t(),Z=t();const q=t(),B=t();function J(t,n,o,i){if(s(q,o,n),0===q.x&&0===q.y)throw new Error("ZeroLengthEdge");const a=((t.x-n.x)*q.x+(t.y-n.y)*q.y)/(q.x*q.x+q.y*q.y);i.l=a;const h=e(i.h,n.x+a*q.x,n.y+a*q.y);i.u=r(h,t);const u=((t,n,e)=>(t.y=e.x-n.x,t.x=n.y-e.y,l(t,t)))(i.p,n,o);s(B,t,h),i.g=c(u,B)}let K=0,Q=[];function V(t){return t&&"object"==typeof t&&"number"==typeof t.id}class X{constructor(t){this.M=t,this.v=X.hash(this.M),this.m=new Set}k(t){this.m.add(t)}A(t,n){const e=n.map(t=>t.P);this.M.every(t=>e.indexOf(t)>-1)&&!this.m.has(t)&&this.m.add(t)}T(t,n){const e=n.map(t=>t.P);this.M.every(t=>e.indexOf(t)>-1)&&this.m.has(t)&&this.m.delete(t)}static hash(t){return t.slice().sort().join("|")}}const _=33.3333333,tt=new class{constructor(){this.j=1,this.m=new Map,this.D=new Map,this.F=new Set}S(t){const n={id:this.j++};return this.m.set(n,t),this.D.forEach(e=>e.A(n,t)),n}C(t){this.F.add(t)}L(t){return this.F.has(t)}O(){if(0===this.F.size)return;let t=!1;const n=e=>{e&&"object"==typeof e&&!V(e)&&Object.values(e).forEach(e=>{V(e)?(this.C(e),t=!0):n(e)})};this.F.forEach(t=>{if(this.F.delete(t),!this.m.has(t))return;const e=this.m.get(t);e.forEach(t=>{n(t)}),this.m.delete(t),this.D.forEach(n=>n.T(t,e))}),t&&this.O()}select(t){const n=X.hash(t);if(this.D.has(n))return this.D.get(n).m;const e=new X(t);return this.D.set(e.v,e),this.m.forEach((n,o)=>{let s=!0;for(let e=0;e<t.length;e++){const o=t[e];n.find(t=>t.P===o)||(s=!1)}s&&e.k(o)}),e.m}W(t){return this.select(t).values().next().value}data(t,n){const e=this.m.get(t);if(!e)throw new Error(`Entity(${t}) not found!`);let o;for(let t=0;t<e.length;t++){const s=e[t];s.P===n&&(o=s)}if(!o)throw new Error(`Data(${n}) not found for Entity(${t})!`);return o}$(t){const n=this.W([t]);if(!n)return;return this.data(n,t)}};function nt(){return tt}const et=document.querySelector.bind(document),ot=et("#r"),st=et("#c"),ct=et("#u");if(!ot||!st||!ct)throw new Error("Could not locate DOM!");function it(t,n,e,o){return t.addEventListener(n,e,o),()=>{t.removeEventListener(n,e,o)}}function rt(n=0,e=0){return t(n,e)}function at(t){const n=nt().$("vp"),e=n.H;return t/n.I*e.width}function lt(t,n){const e=nt().$("vp"),{N:o}=e;return at(t-("x"===n?o.target.x:o.target.y))}function ht(){const t=nt().$("vp"),{R:n}=t.H;n.save(),function(t){const{R:n}=t.H,{N:e}=t;n.scale(1,-1),n.translate(-at(e.G.x),-at(e.G.y))}(t),n.clearRect(0,0,t.H.U.width,t.H.U.height),n.restore()}function ut(t,n,e,s,c){const i=nt().$("vp"),{N:r}=i,a=rt();a.x=r.target.x-r.G.x,a.y=r.target.y+r.G.y,o(a,a,n),pt(t,a,e,s,c)}function pt(t,n,e,o,s,c="transparent"){const i=nt().$("vp"),{N:r}=i,{R:a}=i.H;a.save();const l=i.height/o;a.font=l+"px/1.5 monospace",a.scale(1,-1);let h=at(-n.y+r.target.y);t.split("\n").forEach(t=>{const o=a.measureText(t),i=o.width+1,r=o.actualBoundingBoxAscent?o.actualBoundingBoxAscent+o.actualBoundingBoxDescent:1.5*l-l;h+=r;const u="center"===e?lt(n.x,"x")-i/2:"left"===e?lt(n.x,"x"):lt(n.x,"x")-i;"transparent"!==c&&(a.fillStyle=c,a.fillRect(u,h,i,-r)),a.fillStyle=s,a.fillText(t,u,h)}),a.restore()}function ft(){const t=window.innerWidth<window.innerHeight?window.innerWidth:.6*window.innerHeight,n=window.innerWidth<window.innerHeight?window.innerWidth/.6:window.innerHeight;return{P:"vp",ratio:.6,width:t,height:n,I:100,Y:100/.6,H:function(t,n,e){const o=e.getContext("2d"),s=window.devicePixelRatio||1;return e.style.width=t+"px",e.style.height=n+"px",e.width=Math.round(t*s),e.height=Math.round(n*s),o.scale(s,s),o.webkitImageSmoothingEnabled=!1,o.msImageSmoothingEnabled=!1,o.mozImageSmoothingEnabled=!1,o.imageSmoothingEnabled=!1,{width:t,height:n,U:e,R:o,Z:s}}(t,n,st),N:{G:rt(50,50),mode:"center",target:rt(0,0)}}}function wt(){const t=ft(),n=nt(),e=n.W(["vp"]);e&&n.C(e);ot.style.width=t.width+"px";const o=n=>Math.floor(n/t.I*t.H.U.width);t.H.R.translate(o(t.N.G.x),o(t.N.G.y)),t.H.R.scale(1,-1);const s=[t];n.S(s)}function dt(t,n,e,o){const s=n.x-e.x,c=n.y-e.y,i=Math.sin(o),r=Math.cos(o);return t.x=s*r-c*i+e.x,t.y=s*i+c*r+e.y,t}function gt(){return{u:0,g:0,l:0,h:t(),p:t()}}window.addEventListener("resize",wt);const Mt=t(),vt=t(),yt=t();function xt(t,n){const{width:e,height:s}=function(t){return{width:t.I,height:Math.min(t.I,t.Y)}}(n),c=t.width/2,r=t.height/2,a=n.N.target,l=rt(Math.cos(t.q),Math.sin(t.q)),h=i(rt(),l,Math.min(e/2,s/2)),u=o(rt(),a,h),p=rt(u.x,u.y-c),f=rt(u.x,u.y+c);return dt(p,p,u,t.q),dt(f,f,u,t.q),{x:u.x,y:u.y,angle:t.q,B:c,J:r,K:p,p1:f}}function bt(t){const n=nt().$("vp"),e=n.H.R,{x:o,y:s,angle:c,J:i,B:r,K:a,p1:l}=xt(t,n);e.save(),e.fillStyle="rgba(255,255,255,1)",e.translate(lt(o,"x"),lt(s,"y")),e.rotate(Math.PI/2+c),e.fillRect(0-at(r),0-at(i),at(t.width),at(t.height)),e.restore(),function(t,n,e){mt(t,n.K),mt(t,n.p1),t.save(),t.beginPath(),t.strokeStyle="black",t.lineWidth=at(.5),t.moveTo(lt(n.K.x,"x"),lt(n.K.y,"y")),t.lineTo(lt(n.p1.x,"x"),lt(n.p1.y,"y")),t.stroke(),t.restore()}(e,{K:a,p1:l}),function(t,n,e){t.beginPath(),t.fillStyle="blue",t.arc(lt(n.i.x+(n.t.x-n.i.x)*e,"x"),lt(n.i.y+(n.t.y-n.i.y)*e,"y"),at(1),0,2*Math.PI),t.fill()}(e,t.V,1)}function mt(t,n,e){t.save(),t.beginPath(),t.fillStyle="blue",t.arc(lt(n.x,"x"),lt(n.y,"y"),at(1),0,2*Math.PI),t.fill(),t.restore()}function kt(t,n){return!!((t,n,o,s,c,i,r,a,l)=>{const h=c-t,u=r/2+o/2-Math.abs(h),p=i-n,f=a/2+s/2-Math.abs(p);if(u<=0)return null;if(f<=0)return null;if(e(l.resolve,0,0),e(l.X,0,0),e(l._,0,0),u<f){const n=h<0?-1:1;l.resolve.x=u*n,l._.x=n,l.X.x=t+o/2*n,l.X.y=i}else{const t=p<0?-1:1;l.resolve.y=f*t,l._.y=t,l.X.x=c,l.X.y=n+s/2*t}return l})(t.V.t.x,t.V.t.y,t.tt.x,t.tt.y,n.t.x,n.t.y,n.width,n.height,{resolve:rt(),X:rt(),_:rt()})}function Et(){const t=nt().$("vp"),n={q:0,width:t.I/8,height:t.I/16,V:{o:rt(),t:rt(),i:rt()}},e={t:rt(),i:rt(),o:rt(),width:t.I/16,height:t.I/16},o={V:{t:rt(),i:rt(),o:rt()},tt:rt(10,10)};return h(rt(-10,-10),o.V.t,o.V.i),e.o.x=.1,e.o.y=.1,{nt:e,et:n,target:o,ot:null}}function At(){const t=nt().$("vp"),n={q:0,width:t.I/8,height:t.I/16,V:{o:rt(),t:rt(),i:rt()}},e={t:rt(),i:rt(),o:rt(),width:t.I/16,height:t.I/16},o={V:{t:rt(),i:rt(),o:rt()},tt:rt(10,10)};return h(rt(-30,-10),o.V.t,o.V.i),e.o.x=.1,e.o.y=.1,{nt:e,et:n,target:o,ot:null}}const Pt={st:0,ct:null,state:"boot",level:-1,it:{et:null,nt:null,target:null,ot:null}};function Tt(t){const n=Pt;n.ct=n.state,n.state=t,n.st=0}function jt(t,n,e,o){const s=nt().$("vp"),c=s.N.target,{G:i}=s.N,a=[[rt(c.x-i.x,c.y+i.y),rt(c.x+i.x,c.y+i.y),gt()],[rt(c.x+i.x,c.y+i.y),rt(c.x+i.x,c.y-i.y),gt()],[rt(c.x+i.x,c.y-i.y),rt(c.x-i.x,c.y-i.y),gt()],[rt(c.x-i.x,c.y-i.y),rt(c.x-i.x,c.y+i.y),gt()]];for(let n=0;n<a.length;n++){const[e,o,s]=a[n];J(t,e,o,s)}const[[l,h,u],[p,f,w],[d,g,M],[v,y,x]]=a;let b,m,k;if(u.g>0&&w.g>0)b=rt(w.h.x,u.h.y),m=r(b,t),k="right";else if(w.g>0&&M.g>0)b=rt(w.h.x,M.h.y),m=r(b,t),k="right";else if(M.g>0&&x.g>0)b=rt(x.h.x,M.h.y),m=r(b,t),k="left";else if(x.g>0&&u.g>0)b=rt(x.h.x,u.h.y),m=r(b,t),k="left";else if(u.g>0)b=rt(Math.min(Math.max(u.h.x,l.x),h.x),u.h.y),m=u.u,k="center";else if(w.g>0)b=rt(w.h.x,Math.max(Math.min(p.y,w.h.y),f.y)),m=w.u,k="right";else if(M.g>0)b=rt(Math.max(Math.min(d.x,M.h.x),g.x),M.h.y),m=M.u,k="center";else{if(!(x.g>0))return;b=rt(x.h.x,Math.min(Math.max(v.y,x.h.y),y.y)),m=x.u,k="left"}if(m<.7*((n.x/2+n.y/2)/2))return;const E=s.H.R;E.save(),pt(o,b,k,44,"black","yellow"),E.restore()}function Dt(){const t=nt().$("vp"),n={q:0,width:t.I/8,height:t.I/16,V:{o:rt(),t:rt(),i:rt()}},e={t:rt(),i:rt(),o:rt(),width:t.I/16,height:t.I/16},o={V:{t:rt(),i:rt(),o:rt()},tt:rt(10,10)};h(rt(-10,-10),o.V.t,o.V.i),e.o.x=.5,e.o.y=.5;return{nt:e,et:n,target:o,ot:[{rt:rt(30,-10),at:rt(30,40)},{rt:rt(20,50),at:rt(-20,50)}]}}function Ft(r,h,u){const p=rt(),f=N(function(t,n,e){return s(Mt,n.t,n.i),l(vt,Mt),i(yt,vt,e),o(t,yt,n.t),t}(rt(),r,h),r.i,u.rt,u.at,p),w=gt();if(J(r.i,u.rt,u.at,w),f&&w.g>1){d=r,g=h,M={t:u.rt,i:u.rt,o:rt()},v={t:u.at,i:u.at,o:rt()},s(z,d.t,d.i),l(U,z),i(Y,U,g),o(Z,Y,d.t),N(Z,d.i,M.t,v.t,R)&&(s(G,Z,R),s(d.t,d.t,G),s(d.i,d.i,G));const f=1,y=1e7,x=1,b=0,$=0,H=rt(),I=rt();((r,h,u,p,f,w,d,g,M,v,y,x,b,$,H)=>{e(m,0,0),e(k,0,0),e(E,0,0),e(A,0,0),e(P,0,0),e(T,0,0),e(j,0,0),e(D,0,0),e(F,0,0),e(S,0,0),e(C,0,0),e(L,0,0),e(O,0,0),e(W,0,0),!b||0===b.x&&0===b.y?(s(m,r,d),l(m,m)):e(m,b.x,b.y),i(k,m,-1);const I=u+M,N=1+(p>v?p:v);s(E,r,h);const R=c(m,E);i(A,m,R),s(P,E,A),s(T,d,g);const G=c(k,T);i(j,k,G),s(D,T,j),i(C,A,(u-M)/I),i(L,j,N*M/I),o(F,C,L),o(F,F,P),i(O,A,N*u/I),i(W,j,(M-u)/I),o(S,O,W),o(S,S,D);const z=o(t(),F,S),U=t();i(U,m,c(z,m));const Y=s(t(),z,U);l(Y,Y);let Z=-c(z,Y);Z/=1/(u+M);const q=Math.abs(Z);if(q>1e-4){const n=a(P),e=a(D),s=t(),c=t();i(s,Y,q<n*f?f:-n*w),i(c,Y,q<e*y?y:-e*x),o(F,F,s),o(S,S,c)}n($,F),n(H,S)})(r.t,r.i,f,x,b,$,p,p,y,x,b,$,w.p,H,I),s(r.i,r.t,H)}var d,g,M,v}function St(){}function Ct(t){nt().$("fps").lt=t}!async function(){await async function(){}();const e=nt();wt();const s=[],c=[];s.push(t=>{ht()});const i=e.$("vp");s.push((function(t,n){switch(Pt.state){case"boot":break;case"level":{const{target:t,et:e,nt:o,ot:s}=Pt.it;if(!t||!e||!o)return;!function(){const{N:t,H:{R:n}}=nt().$("vp"),e=Math.floor((t.target.x-t.G.x)/5),o=Math.floor((t.target.x+t.G.x)/5),s=Math.floor((t.target.y+t.G.y)/5),c=Math.floor((t.target.y-t.G.y)/5);n.strokeStyle="gray";for(let s=e;s<=o;s++){const e=lt(5*s,"x"),o=lt(t.target.y+t.G.y,"y"),c=lt(t.target.y-t.G.y,"y");n.beginPath(),n.moveTo(e,o),n.lineTo(e,c),n.stroke()}for(let e=c;e<=s;e++){const o=lt(5*e,"y"),s=lt(t.target.x-t.G.x,"x"),c=lt(t.target.x+t.G.x,"x");n.beginPath(),n.moveTo(s,o),n.lineTo(c,o),n.stroke()}}(),function(t,n){const e=nt().$("vp").H.R,{x:o,y:s}=t.V.t,c=t.tt.x/2,i=t.tt.y/2;e.save(),e.fillStyle="rgba(128,255,255,1)",e.translate(lt(o,"x"),lt(s,"y")),e.fillRect(0-at(c),0-at(i),at(t.tt.x),at(t.tt.y)),e.restore()}(t),bt(e),function(t,n){const e=nt().$("vp").H.R,{t:o,i:s,width:c,height:i}=t,r=c/2,a=i/2,l=lt(s.x+n*(o.x-s.x),"x"),h=lt(s.y+n*(o.y-s.y),"y"),u=at(c),p=at(i);e.save(),e.fillStyle="rgba(255,255,255,1)",e.fillRect(l-at(r),h-at(a),u,p),e.restore()}(o,n),s&&function(t){const{H:{R:n}}=nt().$("vp");n.save(),n.strokeStyle="red",n.lineWidth=at(1);for(let e=0;e<t.length;e++){const o=t[e];n.beginPath(),n.moveTo(lt(o.rt.x,"x"),lt(o.rt.y,"y")),n.lineTo(lt(o.at.x,"x"),lt(o.at.y,"y")),n.closePath(),n.stroke()}n.restore()}(s),function(t,n){const e=nt().$("vp");ut((t.st*_/1e3).toFixed(3),rt(e.I/2,0),"center",44,"yellow"),ut(`Level ${t.level+1} of ??`,rt(0,0),"left",44,"yellow"),t.it.target&&jt(t.it.target.V.t,t.it.target.tt,0,"TARGET"),t.it.nt&&jt(t.it.nt.t,rt(t.it.nt.width,t.it.nt.height),0,"SIGNAL")}(Pt);break}case"win":ut("YOU\nWIN",rt(t.$("vp").I/2,0),"center",5,"black");break;case"nextlevel":break;case"thanks":console.log("thanks!")}})),c.push((e,s)=>{switch(Pt.state){case"boot":return console.log("boot"),Tt("nextlevel");case"level":{if(0===Pt.st){const t=[Et,At,Dt][Pt.level];if(!t)return Tt("thanks");Pt.it=t()}const{target:t,et:n,nt:e}=Pt.it;r.ArrowLeft&&(n.q+=.2),r.ArrowRight&&function(t){t.q-=.2}(n);const s=rt(.2,0),c=rt();let i=0;if(r.w&&r.d?i=Math.PI/4:r.w&&r.a?i=Math.PI*(3/4):r.s&&r.d?i=-Math.PI/4:r.s&&r.a?i=-Math.PI*(3/4):r.w?i=Math.PI/2:r.a?i=Math.PI:r.s?i=-Math.PI/2:r.d&&(i=0),(0!==i||r.d)&&function(t,n){o(t.V.o,t.V.o,n)}(n,dt(rt(),s,c,i)),kt(t,e))return Tt("win");break}case"win":0===Pt.st&&(c=()=>Tt("nextlevel"),a=5e3,Q.push({id:++K,action:c,delay:a,ht:0}));break;case"nextlevel":{const t=Pt;return t.level+=1,t.it.nt=null,t.it.et=null,t.it.target=null,Tt("level")}}var c,a;const{target:l,et:h,nt:p,ot:f}=Pt.it;l&&h&&p&&(((t,n)=>{const e=(t.i.x-t.t.x)*n,o=(t.i.y-t.t.y)*n;t.i.x=t.t.x+e,t.i.y=t.t.y+o})(h.V,.8),u(h.V,s),$(h.V),function(e,o,s,c){u(e,c);const{K:i,p1:r}=xt(o,s),a={t:i,i:n(t(),i),o:t()},l={t:r,i:n(t(),r),o:t()};b(e,2,1,a,-1,l,-1,!1,1),$(e),b(e,1,1,a,-1,l,-1,!0,1)}(p,h,i,s),f&&function(t,n){for(let e=0;e<t.length;e++){const o=t[e];Ft(n,n.width,o)}}(f,p),function(t){const e=nt().$("vp");n(e.N.target,t)}(h.V.t)),Pt.st+=1});const r={w:!1,a:!1,s:!1,d:!1,ArrowLeft:!1,ArrowRight:!1};it(window,"keydown",t=>{r[t.key]=!0}),it(window,"keyup",t=>{r[t.key]=!1}),e.S([{P:"fps",lt:60}]),s.push(t=>{ut(t.$("fps").lt.toFixed(2),rt(100,0),"right",44,"yellow")});const{stop:a}=(({ut:t,ft:n,wt:e,update:o,dt:s=10,gt:c=(()=>{}),Mt:i=(()=>{})})=>{const r=window.performance,a=t,l=n,h=r.now.bind(r),u=window.requestAnimationFrame.bind(window);let p=0,f=null,w=h(),d=h(),g=0,M=60;return function t(){const n=h();f=u(t),p+=n-w,w=n;let r=p-a>=0,v=Math.floor(p/l);if(v>=s)return p=0,w=h(),void c();for(;v-- >0;)p-=l,o(l);r&&e(p/a),g+=1,d+1e3<=n&&(M=.25*g+.75*M,g=0,d=n,i(M))}(),{stop:()=>{f&&cancelAnimationFrame(f)}}})({ut:16.6666666,ft:_,update:t=>{((t=1)=>{Q.slice().forEach((n,e)=>{n.ht+=t,n.ht>=n.delay&&(Q.splice(e,1),n.action(n.delay,n.ht))})})(t),c.forEach(n=>n(e,t)),e.O()},wt:t=>{s.forEach(n=>n(e,t))},gt:St,Mt:Ct})}()}();